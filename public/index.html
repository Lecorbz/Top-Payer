{\rtf1\ansi\ansicpg1252\cocoartf2639
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\pard\tx566\tx1133\tx1700\tx2267\tx2834\tx3401\tx3968\tx4535\tx5102\tx5669\tx6236\tx6803\pardirnatural\partightenfactor0

\f0\fs24 \cf0 <!DOCTYPE html>\
<html lang="en">\
<head>\
  <meta charset="UTF-8" />\
  <title>TOP PAYER</title>\
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>\
  <link href="style.css" rel="stylesheet" />\
</head>\
<body class="light-theme">\
  <h1>TOP PAYER</h1>\
  <p class="subtitle">Pay to rank higher. On the last day of the month, top 1 gets refunded!</p>\
  <p id="min-info">Minimum payment required: loading...</p>\
\
  <form id="payment-form" class="form-container">\
    <div class="input-group">\
      <input type="text" id="name" placeholder="Your name" required />\
      <input type="email" id="email" placeholder="Your email" required />\
      <input type="number" id="amount" placeholder="Amount in \'80" required />\
      <input type="url" id="link" placeholder="Website or social link (optional)" />\
    </div>\
    <button type="submit" class="pay-button">PAY</button>\
  </form>\
\
  <table>\
    <thead>\
      <tr><th>#</th><th>Player</th><th>\'80</th></tr>\
    </thead>\
    <tbody id="ranking-body"></tbody>\
  </table>\
\
  <script>\
    const BACKEND_URL = "https://top-payer.onrender.com";\
\
    async function getMinAmount() \{\
      const res = await fetch(`$\{BACKEND_URL\}/api/min`);\
      const data = await res.json();\
      document.getElementById("min-info").innerText = "Minimum payment required: " + data.min + "\'80";\
    \}\
\
    async function getRanking() \{\
      const res = await fetch(`$\{BACKEND_URL\}/api/ranking`);\
      const list = await res.json();\
      const body = document.getElementById("ranking-body");\
      body.innerHTML = "";\
      list.forEach((entry, i) => \{\
        body.innerHTML += `<tr>\
          <td>$\{i + 1\}</td>\
          <td>$\{entry.link ? `<a href="$\{entry.link\}" target="_blank">$\{entry.name\}</a>` : entry.name\}</td>\
          <td>$\{entry.amount\}</td>\
        </tr>`;\
      \});\
    \}\
\
    document.getElementById("payment-form").addEventListener("submit", async (e) => \{\
      e.preventDefault();\
      const name = document.getElementById("name").value;\
      const email = document.getElementById("email").value;\
      const amount = parseFloat(document.getElementById("amount").value);\
      const link = document.getElementById("link").value;\
      const res = await fetch(`$\{BACKEND_URL\}/api/checkout`, \{\
        method: "POST",\
        headers: \{"Content-Type": "application/json"\},\
        body: JSON.stringify(\{ name, email, amount, link \})\
      \});\
      const data = await res.json();\
      if (data.url) \{\
        window.location.href = data.url;\
      \} else \{\
        alert(data.error || "Something went wrong.");\
      \}\
    \});\
\
    getMinAmount();\
    getRanking();\
  </script>\
</body>\
</html>\
}